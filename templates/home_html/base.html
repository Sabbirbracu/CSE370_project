<!DOCTYPE html>
<html lang="en">
{%block head%}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EasyMove{%block title%}{%endblock title%}</title>
    <link rel="stylesheet" href="/static/css/base_css/base.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"/>
    <!-- link for boostrap -->
    {%if page == "login"%}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    {%endif%}
    {%if page == "register"%}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    {%endif%}
    {%block link%}{%endblock link%}
</head>
{%endblock head%}
<body>

    <header>
        <h2 class="logo">EasyMove</h2>
        <nav class="navigation">

            {%if page == "index"%}
            <button class="btnLogin-popup" onclick="redirectToLoginPage()">Login</button>

            {%elif page == "dashboard"%}
            <a href="#">Station</a>
            <a href="#">Contact</a>
            
            {% elif page == "ride" %}    
            {%else%}
            <a href="/dashboard">Dashboard</a>
            <a href="#">Station</a>
            <a href="#">Contact</a>
            {%endif%}
        </nav>

        <!-- Pop up message for success or error -->

        <!-- {%if messages%}
        {%for message in messages%}
        <div class="alert alert-warning" role="alert">
          <strong>{{message}}</strong>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="close"></button>
        </div>
        {%endfor%}
        {%endif%} -->


        {% if messages %}
          {% for message in messages %}
            {% if message.tags == 'error' %}
              <div class="alert alert-warning" role="alert">
                <strong>{{ message }}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endif %}

            {% if message.tags == 'success' %}
              <div class="alert alert-warning" role="alert">
                <strong>{{ message }}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
              </div>
            {% endif %}
          {% endfor %}
        {% endif %}



        <!-- Except index or home.html page it will show for all the pages -->
        {%if page != "index" and page != "login" and page != "register"%}
        <div class="profile-dropdown">
            <div onclick="toggle()" class="profile-dropdown-btn">
              {%if user.gender == 'male'%}
              <div class="male-profile-img">
                <i class="fa-solid fa-circle"></i>
              </div>
              {%else%}
              <div class="female-profile-img">
                <i class="fa-solid fa-circle"></i>
              </div>
              {%endif%}
    
              <span>{{user.first_name}}
                <i class="fa-solid fa-angle-down"></i>
              </span>
            </div>
    
            <ul class="profile-dropdown-list">
              <li class="profile-dropdown-list-item">
                <a href="#">
                  <i class="fa-regular fa-user"></i>
                  View Profile
                </a>
              </li>
    
              <li class="profile-dropdown-list-item">
                <a href="#">
                  <i class="fa-regular fa-edit"></i>
                  Edit Profile
                </a>
              </li>

              <li class="profile-dropdown-list-item">
                <a href="#">
                  <i class="fa-regular fa-coins"></i>
                  Rewards
                </a>
              </li>
    
    
              <li class="profile-dropdown-list-item">
                <a href="#">
                  <i class="fa-solid fa-sliders"></i>
                  Settings
                </a>
              </li>
    
              <li class="profile-dropdown-list-item">
                <a href="#">
                  <i class="fa-regular fa-circle-question"></i>
                  Help & Support
                </a>
              </li>
              <hr />
    
              <li class="profile-dropdown-list-item">
                <a href="logout">
                  <i class="fa-solid fa-arrow-right-from-bracket"></i>
                  Log out
                </a>
              </li>
            </ul>
          </div>
          {%endif%}


    </header>
    <div class="overlay"></div>

    {%block body%}{%endblock body%}

    <script>
      function redirectToLoginPage() {
          window.location.href = "/login";
      }
  </script>

    <!-- script for Boostrap -->
    {%if page == "login"%}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    {%endif%}
    {%if page == "register"%}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    {%endif%}
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="/static/js/Base_js/scripts.js"></script>

</body>
</html>